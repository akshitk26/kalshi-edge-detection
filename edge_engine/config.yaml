# Edge Engine Configuration
# =========================
# Sensitive values are loaded from .env file (see .env.example)

# Hedge calculator settings
hedge:
  exit_threshold: 0.65         # Exit NO position when YES probability exceeds this (0.65 = 65%)
  enable_dynamic_exit: true    # Enable dynamic exit layer in EV calculations
  default_fee: 0.011          # Default fee per contract in dollars

# Kalshi API settings
kalshi:
  base_url: "https://api.elections.kalshi.com/trade-api/v2"
  # Credentials loaded from environment: KALSHI_EMAIL, KALSHI_PASSWORD
  use_mock: false  # Set to true for testing without API
  # Price source: last_price (Kalshi Chance), yes_ask (more current), mid (bid/ask mid)
  price_source: "last_price"

# Weather API settings (OpenWeatherMap)
weather:
  base_url: "https://api.openweathermap.org/data/2.5"
  # API key loaded from environment: OPENWEATHER_API_KEY
  use_mock: false  # Set to true for testing without API

# Edge detection parameters
edge:
  threshold: 0.05          # Minimum edge to trigger signal (5%)
  confidence_decay_hours: 6  # Data older than this reduces confidence

# Probability model parameters
model:
  # Station reporting noise (σ_reporting) overrides per city.
  # This is the "representation error" between the forecast model's
  # grid-point temperature and the NWS station's reported integer.
  # σ²_effective = σ²_forecast + σ²_reporting
  # Higher values → wider distribution → smaller single-bucket probabilities.
  # Built-in defaults exist in the code; add overrides here if needed.
  # reporting_noise:
  #   San Francisco: 2.5
  #   Miami: 2.0
  #   Los Angeles: 2.0

# Polling configuration
polling:
  interval_seconds: 30     # How often to check markets
  markets_per_cycle: 100   # Max markets to evaluate per cycle (set high to get all)

# Signal emission
signal:
  mode: "console"          # Options: "console", "http"
  http_endpoint: "http://localhost:8080/api/signals"  # For Spring Boot integration

# Logging
logging:
  level: "INFO"            # DEBUG, INFO, WARNING, ERROR

# Markets to monitor (weather-related)
# These are example market patterns - actual Kalshi market IDs may differ
markets:
  weather:
    - ticker_pattern: "HIGHNY-*"  # NYC high temperature markets
    - ticker_pattern: "LOWNY-*"   # NYC low temperature markets
    - ticker_pattern: "WEATHER-*" # General weather markets
